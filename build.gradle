apply plugin: 'java'
apply plugin: 'application'

mainClassName = 'com.fruitcat.bitcoin.BIP38'

repositories {
  mavenCentral()
}

dependencies {
  compile 'com.madgag:scprov-jdk15on:1.47.0.3'
  compile 'com.google.guava:guava:15.0'
  compile 'org.bitcoinj:bitcoinj-core:0.14.3'
  compile group: 'org.slf4j', name: 'slf4j-simple', version: '1.6.1'
  compile group: 'org.bouncycastle', name: 'bcprov-jdk16', version: '1.46'
  testCompile 'org.testng:testng:6.8.7'
}

jar {
  manifest {
    attributes 'Main-Class': mainClassName
  }
  from configurations.runtime.collect { it.isDirectory() ? it : zipTree(it) }
  exclude "META-INF/*.SF"
  exclude "META-INF/*.DSA"
  exclude "META-INF/*.RSA" 
}

test {
  useTestNG()
}

manifest {
  attributes 'Main-Class': mainClassName
}